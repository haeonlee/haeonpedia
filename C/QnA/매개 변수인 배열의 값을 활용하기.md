작성일: 2022. 08. 06

책 <혼자 공부하는 C언어>에서 17장 도전 실전 예제를 풀다가 '배열을 함수의 매개변수로 쓸 때 왜 * 없이 깔끔하게 써도 출력이 되는지' 궁금했다.

---

참고 자료
- <혼자 공부하는 C언어> / 10. 배열과 포인터 예제 문제 전반적으로 확인
- <혼자 공부하는 C언어> / 10. 배열과 포인터 책 전반적으로 확인

---

# 미리 짚어두고 갈 포인트

배열명은 배열 요소의 주소를 전달한다.
만약, 배열 요소의 주소를 안다면 다른 배열 요소는 포인터 연산을 통해 사용이 가능하다.

따라서
1. 함수를 호출할 땐 배열명을 준다: 즉, 포인터인 매개 변수에게 주소를 전달한다
2. 함수의 매개변수로 포인터를 선언한다
3. 함수 안에서 포인터를 배열명처럼 사용한다
    (1) 정수 연산: pa + 1 - 두 번째 배열 요소의 주소 
    (2) 간접 참조 연산: *(pa + 1) - 두 번째 배열 요소
    (3) 배열 요소 표현식: pa[1] - 두 번째 배열 요소

### 1. 정수 연산(주소): pa + 1 

``` c
void input_ary(double *pa, int size)    // double 포인터를 매개변수로 선언
{
    int i;

    printf("%d개의 실수값 입력 : ", size);
    for (i = 0; i < size; i++)  // size의 값에 따라 반복 횟수 결정
    {
        scanf("%lf", pa + i);   // &pa[i]와 같은 형식도 가능, 하여튼 입력할 배열 요소의 주소를 전달
    }
}
```

### 2. 간접 참조 연산(값): *(pa + 1)
``` c
void print_ary(int *pa)
{
    int i;

    for (i = 0; i < 5; i++)
    {
        printf("%d ", *(pa + i));
    }
}
```

### 3. 배열 요소 표현식(값): pa[1]
``` c
double find_max(double *pa, int size)
{
    double max;
    int i;

    max = pa[0];    // 첫 번째 배열 요소의 값을 최댓값으로 설정
    for (i = 1; i < size; i++)  // 두 번째 배열 요소부터 max와 비교
    {
        if (pa[i] > max) max = pa[i]; // 새로운 배열 요소의 값이 max보다 크면 대입
    }
    
    return max;
}
```

# 배열 요소 표현식에 대한 탐구

그렇다면, 위에서 (3)번인 배열 요소 표현식은 어떻게 포인터로 받았음에도 불구하고 깔끔하게 배열 형식으로 표현할 수 있는 것일까?

책 <혼자 공부하는 C언어> 270page를 확인하면 '포인터가 배열명을 저장하면 배열명처럼 사용할 수 있다'라고 나와 있다. 그러므로 '그냥 컴파일러가 그렇게 정했다'라고 생각하면 될 것 같다. (ㅋㅋ)